#include <Vcl.Imaging.pngimage.hpp>
#pragma hdrstop

#include "Unit1.h"
#include "Card.h"
#include "Deck.h"

//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm1 *Form1;

//---------------------------------------------------------------------------
__fastcall TForm1::TForm1(TComponent* Owner)
	: TForm(Owner)
{
}

void __fastcall TForm1::PanelStartClick(TObject *Sender)
{

	PanelStand->Visible = true;
	PanelHit->Visible = true;
	PanelStart->Visible= false;
	deck.giveCardP();
	deck.giveCardD();
	deck.giveCardP();
	deck.giveCardD();
	String filePath;


//	filePath = "2_of_clubs.png";  // The file path should be dynamic
//	Pcarte1->Picture->LoadFromFile(filePath);  // This is fine for static paths
//	Dcarte1->Picture->LoadFromFile(filePath);
//	Pcarte2->Picture->LoadFromFile(filePath);  // This is fine for static paths
//	Dcarte2->Picture->LoadFromFile(filePath);


   }

   void __fastcall TForm1::PanelHitClick(TObject *Sender)
   {
	 deck.giveCardP();
   }

void __fastcall TForm1::PanelStandClick(TObject *Sender)
{

	while(deck.ScoreD()<16){
	 deck.giveCardD();
	}

	if(deck.ScoreP()>deck.ScoreD())
	{
		ShowMessage("Player's Score: "+ IntToStr(deck.ScoreP())+ " - Dealer's Score: " +IntToStr(deck.ScoreD())+ " -> Player Wins!");
	}
	if(deck.ScoreP()<deck.ScoreD())
	{
		ShowMessage("Player's Score: "+ IntToStr(deck.ScoreP())+ " - Dealer's Score: " +IntToStr(deck.ScoreD())+ " -> Dealer Wins!");
	}
	if(deck.ScoreP()==deck.ScoreD())
	{
		ShowMessage("Player's Score: "+ IntToStr(deck.ScoreP())+ " - Dealer's Score: " +IntToStr(deck.ScoreD())+ " -> Draw");
	}



}
//---------------------------------------------------------------------------




//---------------------------------------------------------------------------

//---------------------------------------------------------------------------


